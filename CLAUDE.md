# attendance-hub é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

å…¨æ©Ÿèƒ½ã®å®Ÿè£…è¨ˆç”»ã‹ã‚‰è‡ªå‹•ç”Ÿæˆã€‚æœ€çµ‚æ›´æ–°: 2025-11-09

## ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **TypeScript 5.9**ï¼ˆstrict modeï¼‰
- **Next.js 16**ï¼ˆApp Routerï¼‰
- **React 19.2**
- **Tailwind CSS 3.4**
- **localStorage**ï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ç”¨ã€å°†æ¥çš„ã«Supabase PostgreSQLã¸ç§»è¡Œï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```text
attendance-hub/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx         # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx           # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ï¼‰
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†ç”»é¢
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ç®¡ç†ãƒˆãƒƒãƒ—
â”‚   â”‚   â”œâ”€â”€ groups/page.tsx       # ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†
â”‚   â”‚   â””â”€â”€ events/page.tsx       # ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†
â”‚   â”œâ”€â”€ events/            # ã‚¤ãƒ™ãƒ³ãƒˆé–¢é€£
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â”œâ”€â”€ page.tsx          # ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°
â”‚   â”‚       â””â”€â”€ register/page.tsx # å‡ºæ¬ ç™»éŒ²
â”‚   â”œâ”€â”€ my-register/       # ä¸€æ‹¬å‡ºæ¬ ç™»éŒ²
â”‚   â”‚   â””â”€â”€ page.tsx              # è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆä¸€æ‹¬ç™»éŒ²
â”‚   â””â”€â”€ globals.css        # Tailwind CSS
â”œâ”€â”€ components/            # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ bulk-register/     # ä¸€æ‹¬ç™»éŒ²é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ member-selector.tsx   # ãƒ¡ãƒ³ãƒãƒ¼é¸æŠ
â”‚   â”‚   â””â”€â”€ event-list.tsx        # ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§
â”‚   â”œâ”€â”€ loading-spinner.tsx  # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
â”‚   â””â”€â”€ skeleton.tsx         # ã‚¹ã‚±ãƒ«ãƒˆãƒ³UI
â”œâ”€â”€ lib/                   # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ storage.ts        # localStorageæ“ä½œ
â”‚   â”œâ”€â”€ group-service.ts  # ã‚°ãƒ«ãƒ¼ãƒ—é–¢é€£ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ attendance-service.ts  # å‡ºæ¬ ç™»éŒ²é–¢é€£ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ validation.ts     # Zodã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ date-utils.ts     # æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”œâ”€â”€ types/                 # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ __tests__/            # ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ my-register/page.test.tsx  # ä¸€æ‹¬ç™»éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ bulk-register/
â”‚   â”‚   â”‚   â”œâ”€â”€ member-selector.test.tsx
â”‚   â”‚   â”‚   â””â”€â”€ event-list.test.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ storage.test.ts
â”‚       â”œâ”€â”€ group-service.test.ts
â”‚       â””â”€â”€ attendance-service.test.ts
â””â”€â”€ specs/                # æ©Ÿèƒ½ä»•æ§˜ãƒ»è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ 001-attendance-prototype/
    â”‚   â”œâ”€â”€ spec.md
    â”‚   â”œâ”€â”€ plan.md
    â”‚   â”œâ”€â”€ data-model.md
    â”‚   â””â”€â”€ quickstart.md
    â”œâ”€â”€ 002-input-text-visibility/
    â”‚   â”œâ”€â”€ spec.md
    â”‚   â”œâ”€â”€ plan.md
    â”‚   â””â”€â”€ tasks.md
    â””â”€â”€ 004-bulk-attendance-register/
        â”œâ”€â”€ spec.md
        â”œâ”€â”€ plan.md
        â””â”€â”€ tasks.md
```

## ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ†ã‚¹ãƒˆï¼ˆã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰
npm test -- --watch

# ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°
npm run lint

# ãƒ“ãƒ«ãƒ‰
npm run build

# å‹ãƒã‚§ãƒƒã‚¯
npx tsc --noEmit
```

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### TypeScript

- **Strict modeå¿…é ˆ**: ã™ã¹ã¦ã®å‹ãƒã‚§ãƒƒã‚¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–
- **`any`ã®ç¦æ­¢**: æ­£å½“ãªç†ç”±ãŒãªã„é™ã‚Šä½¿ç”¨ã—ãªã„
- **å‹æ¨è«–ã®æ´»ç”¨**: Zodã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰å‹ã‚’æ¨è«–ï¼ˆ`z.infer<typeof Schema>`ï¼‰
- **æ˜ç¤ºçš„ãªæˆ»ã‚Šå€¤ã®å‹**: é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã¯æ˜ç¤ºçš„ã«æŒ‡å®š

### React

- **é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ä½¿ç”¨ã—ãªã„
- **Hooks**: useStateã€useEffectã€useContextãªã©ã‚’æ´»ç”¨
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `'use client'`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ä½¿ç”¨
- **Propså‹å®šç¾©**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æ˜ç¤ºçš„ã«å®šç¾©

### Tailwind CSS

- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ã‚«ã‚¹ã‚¿ãƒ CSSã¯æœ€å°é™ã«
- **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ã¯ãƒ¢ãƒã‚¤ãƒ«ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã¯`sm:`ã€`md:`ã€`lg:`ã§
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: é©åˆ‡ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤º

#### å…¥åŠ›æ¬„ã®æ¨™æº–ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå¿…é ˆï¼‰

ã™ã¹ã¦ã®å…¥åŠ›æ¬„ï¼ˆ`<input>`ã€`<select>`ã€`<textarea>`ï¼‰ã«ã¯ã€ä»¥ä¸‹ã®ã‚¯ãƒ©ã‚¹ã‚’**å¿…ãšå«ã‚ã‚‹**ã“ã¨ï¼š

```
text-gray-900 placeholder:text-gray-400
```

**ç†ç”±**: Feature 002ã§è¦–èªæ€§æ”¹å–„ã‚’å®Ÿæ–½ã€‚ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸¡æ–¹ã§è‰¯å¥½ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ï¼ˆWCAG AAåŸºæº–ï¼‰ã‚’ç¢ºä¿ã€‚

**å®Œå…¨ãªå…¥åŠ›æ¬„classNameã®ä¾‹**:
```tsx
// input / select / textareaå…±é€š
className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder:text-gray-400"
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] æ–°è¦å…¥åŠ›æ¬„ã« `text-gray-900 placeholder:text-gray-400` ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
- [ ] æ—¢å­˜ã®å…¥åŠ›æ¬„ã‚¹ã‚¿ã‚¤ãƒ«ã¨ä¸€è²«æ€§ãŒã‚ã‚‹ã‹

### ãƒ†ã‚¹ãƒˆï¼ˆTDDï¼‰

- **Red-Green-Refactor**: t-wadaã®TDDåŸå‰‡ã«å¾“ã†
  1. Red: ã¾ãšå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
  2. Green: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…
  3. Refactor: å‹•ä½œã‚’ä¿ã¡ãªãŒã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
- **ç‹¬ç«‹æ€§**: å„ãƒ†ã‚¹ãƒˆã¯ä»–ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„

## æœ€è¿‘ã®å¤‰æ›´

- **2025-11-09**: 004-bulk-attendance-register ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã‚’å®Œäº†
  - è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆä¸€æ‹¬å‡ºæ¬ ç™»éŒ²æ©Ÿèƒ½å®Ÿè£…
  - `/my-register` æ–°è¦ãƒšãƒ¼ã‚¸è¿½åŠ 
  - ã‚¤ãƒ™ãƒ³ãƒˆã”ã¨ã®å€‹åˆ¥ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­å®š
  - é‡è¤‡ç™»éŒ²é˜²æ­¢ï¼ˆupsertæ©Ÿèƒ½ï¼‰
  - 84ãƒ†ã‚¹ãƒˆå…¨ã¦passã€ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- **2025-11-07**: Next.js 16ã¨React 19æ­£å¼ç‰ˆã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
  - Next.js 15 â†’ 16.0.1
  - React 19 â†’ 19.2.0
  - TypeScript 5.9.3
- **2025-11-06**: 002-input-text-visibility ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã‚’å®Œäº†
  - å…¥åŠ›æ¬„ã®ãƒ†ã‚­ã‚¹ãƒˆè¦–èªæ€§ã‚’æ”¹å–„
  - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã®ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼èª¿æ•´
  - ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ãƒ©ãƒ™ãƒ«ã®å¯èª­æ€§å‘ä¸Š
- **2025-11-06**: 001-attendance-prototype ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«åˆ·æ–°
  - EventDateä¸­å¿ƒã®è¨­è¨ˆã«ç§»è¡Œ
  - ã‚°ãƒ«ãƒ¼ãƒ—ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®UIå®Ÿè£…
  - 44ãƒ†ã‚¹ãƒˆå…¨ã¦passã€ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- **2025-11-05**: 001-attendance-prototype ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã‚’è¿½åŠ 
  - TypeScript strict mode
  - Next.js 15 + React 19 + App Router
  - Tailwind CSS 3.4
  - localStorageã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

## å‚è€ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ†²æ³•](.specify/memory/constitution.md) - é–‹ç™ºåŸå‰‡ã¨ã‚¬ãƒãƒŠãƒ³ã‚¹
- [ä»•æ§˜æ›¸](specs/001-attendance-prototype/spec.md) - æ©Ÿèƒ½è¦ä»¶
- [å®Ÿè£…è¨ˆç”»](specs/001-attendance-prototype/plan.md) - æŠ€è¡“çš„ãªå®Ÿè£…è©³ç´°
- [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](specs/001-attendance-prototype/data-model.md) - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è¨­è¨ˆ
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](specs/001-attendance-prototype/quickstart.md) - é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

1. **ä»•æ§˜ç¢ºèª**: `specs/001-attendance-prototype/spec.md`ã§è¦ä»¶ã‚’ç†è§£
2. **ãƒ†ã‚¹ãƒˆä½œæˆ**: `__tests__/`ã«ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãï¼ˆRedï¼‰
3. **å®Ÿè£…**: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãï¼ˆGreenï¼‰
   - âš ï¸ **å…¥åŠ›æ¬„ä½œæˆæ™‚ã®å¿…é ˆãƒã‚§ãƒƒã‚¯**:
     - `<input>`ã€`<select>`ã€`<textarea>`ã« `text-gray-900 placeholder:text-gray-400` ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
     - æ—¢å­˜ã®å…¥åŠ›æ¬„ï¼ˆadmin/groupsã€admin/eventsã€events/[id]/registerï¼‰ã¨åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
4. **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ãƒ»æ”¹å–„ï¼ˆRefactorï¼‰
5. **å‹•ä½œç¢ºèª**: ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿéš›ã®å‹•ä½œã‚’ç¢ºèª
6. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**ï¼ˆæ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´æ™‚ã¯å¿…é ˆï¼‰:
   - ğŸ“ **README.md**: ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
     - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ï¼‰
     - æ©Ÿèƒ½ä¸€è¦§ï¼ˆæ–°æ©Ÿèƒ½ã®è¿½åŠ ï¼‰
     - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆæ–°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ ï¼‰
     - ä½¿ã„æ–¹ï¼ˆæ–°æ©Ÿèƒ½ã®ä½¿ç”¨æ‰‹é †ï¼‰
     - ãƒ†ã‚¹ãƒˆæ•°
     - æœ€çµ‚æ›´æ–°æ—¥
   - ğŸ“ **SPECIFICATION.md**: æŠ€è¡“ä»•æ§˜æ›¸ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
     - å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ã®è¨˜éŒ²
     - æŠ€è¡“çš„ãªè©³ç´°
   - âš ï¸ **é‡è¦**: æ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´ã‚’è¡Œã£ãŸå ´åˆã¯ã€README.mdã¨SPECIFICATION.mdã®**ä¸¡æ–¹**ã‚’æ›´æ–°ã™ã‚‹ã“ã¨
7. **ã‚³ãƒŸãƒƒãƒˆ**: æ—¥æœ¬èªã¾ãŸã¯è‹±èªã§æ˜ç¢ºãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä»˜ã‘ã¦ã‚³ãƒŸãƒƒãƒˆ

<!-- MANUAL ADDITIONS START -->
<!-- MANUAL ADDITIONS END -->

## Active Technologies
- TypeScript 5.9 (strict mode) + Next.js 16, React 19.2, Tailwind CSS 3.4 (003-event-attendance-count)
- localStorage (ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€å°†æ¥çš„ã«Supabase PostgreSQLã¸ç§»è¡Œ) (003-event-attendance-count)
- TypeScript 5.9ï¼ˆstrict modeï¼‰ (004-bulk-attendance-register)
- localStorageï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€å°†æ¥çš„ã«Supabase PostgreSQLã¸ç§»è¡Œäºˆå®šï¼‰ (004-bulk-attendance-register)

## Recent Changes
- 004-bulk-attendance-register: Added `/my-register` page, MemberSelector, EventList components, upsertBulkAttendances function
- 003-event-attendance-count: Added TypeScript 5.9 (strict mode) + Next.js 16, React 19.2, Tailwind CSS 3.4
