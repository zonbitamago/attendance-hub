# Feature Specification: 入力欄テキスト視認性の改善

**Feature Branch**: `002-input-text-visibility`
**Created**: 2025-11-06
**Status**: Draft
**Input**: User description: "入力欄の文字色がとても見にくいので見やすくしたいです。"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - ライトモードでの入力欄視認性 (Priority: P1)

管理者がグループや イベントの情報を入力する際、ライトモード環境でも入力したテキストが明瞭に表示され、スムーズにデータ入力ができる。

**Why this priority**: 最も基本的で重要な使用環境。多くのユーザーがライトモードで利用し、入力欄が読めないと全ての管理機能が使用不可能になる。

**Independent Test**: ライトモードのブラウザでグループ作成画面を開き、グループ名を入力した際に入力テキストが明確に読めることを確認。これだけで基本的な管理機能の使用可能性が検証できる。

**Acceptance Scenarios**:

1. **Given** ライトモードのブラウザで管理画面を開いている、**When** グループ名入力欄にテキストを入力する、**Then** 入力したテキストが黒または濃いグレー色で明瞭に表示される
2. **Given** ライトモードのブラウザでイベント作成画面を開いている、**When** タイトルや場所を入力する、**Then** 各入力欄のテキストが読みやすい濃い色で表示される
3. **Given** 出欠登録画面で新メンバー名を入力している、**When** テキストを入力する、**Then** 入力内容がはっきりと視認できる

---

### User Story 2 - ダークモードでの入力欄視認性 (Priority: P1)

管理者がダークモード環境（macOS、Windows、またはブラウザ設定）で作業している際、入力欄の背景と文字色のコントラストが適切に保たれ、入力内容が明瞭に読める。

**Why this priority**: 現在最も深刻な問題。ダークモード環境では明るい背景に明るい文字となり、実質的に入力欄が使用不可能。ライトモードと同等の優先度。

**Independent Test**: ダークモードに設定したブラウザでグループ作成画面を開き、グループ名を入力して視認性を確認。ライトモードとの一貫性も検証できる。

**Acceptance Scenarios**:

1. **Given** ダークモード設定のブラウザで管理画面を開いている、**When** 任意の入力欄にテキストを入力する、**Then** 入力テキストが背景色と明確にコントラストがあり読みやすい
2. **Given** macOSのダークモードが有効になっている、**When** イベント情報を入力する、**Then** 各入力欄で入力内容が明瞭に表示される
3. **Given** システムのカラースキーム設定に関わらず、**When** 新メンバー名を入力する、**Then** 常に同じ見やすい文字色で表示される

---

### User Story 3 - プレースホルダーとの明確な区別 (Priority: P2)

ユーザーが入力欄にフォーカスした際、プレースホルダーテキストと実際の入力内容が色の違いで明確に区別でき、入力状態を直感的に理解できる。

**Why this priority**: 使用性向上のための重要な要素。入力前後の状態が分かりにくいとユーザー体験が低下するが、入力自体は可能なのでP2。

**Independent Test**: 入力欄にフォーカスを当て、プレースホルダー状態と入力後の文字色の違いを目視で確認。明確な視覚的差異があることを検証。

**Acceptance Scenarios**:

1. **Given** 空の入力欄を表示している、**When** プレースホルダーテキストが表示されている、**Then** プレースホルダーは薄いグレー色で表示される
2. **Given** プレースホルダーが表示されている入力欄、**When** 実際にテキストを入力する、**Then** 入力テキストはプレースホルダーよりも濃い色で表示され、明確に区別できる
3. **Given** テキストを入力済みの入力欄、**When** すべてのテキストを削除する、**Then** 再びプレースホルダーが薄い色で表示される

---

### Edge Cases

- **システムのカラースキーム変更時**: ユーザーがブラウジング中にOSまたはブラウザのカラースキームをライト⇔ダークで切り替えた場合でも、入力欄の視認性が維持されるか？
- **ハイコントラストモード**: アクセシビリティ設定でハイコントラストモードを有効にしている場合、入力欄のテキストが適切に表示されるか？
- **カスタムブラウザテーマ**: Chrome拡張機能などでカスタムテーマを適用している場合でも、入力欄の文字色が上書きされずに明瞭に表示されるか？

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは全ての入力欄（input、textarea、select）において、入力されたテキストを濃い色（高コントラスト）で表示しなければならない
- **FR-002**: システムは入力欄の文字色をユーザーのシステムカラースキーム設定（ライト/ダーク）に関わらず、常に読みやすい色で表示しなければならない
- **FR-003**: システムはプレースホルダーテキストを実際の入力テキストよりも薄い色で表示し、両者を視覚的に区別しなければならない
- **FR-004**: システムは以下の全ての入力欄で一貫した文字色スタイルを適用しなければならない：
  - グループ管理画面（グループ名、表示順序、カラーコード）
  - イベント管理画面（日付、タイトル、場所）
  - 出欠登録画面（グループ選択、メンバー選択、新メンバー名）
- **FR-005**: システムは入力欄のテキスト色がブラウザやOSのデフォルトスタイルに依存せず、明示的に指定された色を使用しなければならない

### Key Entities *(該当なし - UIスタイリングのみの改善のため削除)*

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ライトモード環境で全ての入力欄において、入力テキストが背景とのコントラスト比4.5:1以上を達成している
- **SC-002**: ダークモード環境で全ての入力欄において、入力テキストが背景とのコントラスト比4.5:1以上を達成している
- **SC-003**: ユーザーが任意の入力欄でテキストを入力する際、文字が即座に（50ms以内に）明瞭な色で表示される
- **SC-004**: プレースホルダーテキストと入力テキストの色が視覚的に明確に区別でき、10名中10名のテストユーザーが違いを認識できる
- **SC-005**: 全9箇所の入力欄（3ページ×3箇所）で一貫した視覚スタイルが適用され、ページ間での不整合がゼロである
