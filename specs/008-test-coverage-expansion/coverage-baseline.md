# Coverage Baseline - Feature 008

**測定日時**: 2025-11-12
**測定コマンド**: `npm test -- --coverage`
**テスト実行時間**: 2.891秒

## 全体カバレッジ

| メトリクス | カバレッジ | 目標 |
|-----------|-----------|------|
| Statements | **47.98%** | 70%+ |
| Branches | **39.88%** | 30%+ (維持) |
| Functions | **54.73%** | 50%+ (維持) |
| Lines | **47.28%** | 45%+ (維持) |

## テスト統計

- **テスト総数**: 234 passed
- **テストスイート**: 19 passed

## 優先対象ファイル（0%カバレッジ）

### P1優先度

| ファイル | Stmts | Branch | Funcs | Lines | 理由 |
|---------|-------|--------|-------|-------|------|
| `app/[org]/events/[id]/register/page.tsx` | 0% | 0% | 0% | 0% | データ作成の入口、最重要画面 |
| `app/[org]/events/[id]/page.tsx` | 0% | 0% | 0% | 0% | 最頻閲覧画面、Feature 007の保護 |

### P2優先度

| ファイル | Stmts | Branch | Funcs | Lines | 理由 |
|---------|-------|--------|-------|-------|------|
| `app/[org]/admin/groups/page.tsx` | 0% | 0% | 0% | 0% | CRUD操作、データ管理基盤 |
| `app/[org]/admin/events/page.tsx` | 0% | 0% | 0% | 0% | CRUD操作、データ管理基盤 |
| `app/[org]/my-register/page.tsx` | 0% | 0% | 0% | 0% | Feature 004の主要機能 |

## 低カバレッジユーティリティファイル

| ファイル | Stmts | Branch | Funcs | Lines | 未カバー行 |
|---------|-------|--------|-------|-------|-----------|
| `lib/date-utils.ts` | **11.11%** | 0% | 16.66% | 11.11% | 5-27, 36-59 |
| `lib/error-utils.ts` | **8.88%** | 0% | 10% | 6.81% | 4-92, 98 |

## 高カバレッジファイル（参考・変更不要）

| ファイル | Stmts | Branch | Funcs | Lines |
|---------|-------|--------|-------|-------|
| `lib/attendance-service.ts` | 94.15% | 75% | 92.3% | 94.16% |
| `lib/group-service.ts` | 97.61% | 75% | 100% | 97.36% |
| `lib/organization-service.ts` | 100% | 100% | 100% | 100% |
| `lib/migration.ts` | 96.22% | 85% | 100% | 95.83% |
| `components/bulk-register/*` | 96.87% | 95.45% | 94.73% | 98.36% |
| `components/event-detail/*` | 97.67% | 93.87% | 100% | 97.61% |

## 成功基準（Success Criteria）との比較

### カバレッジ目標

- ✅ **SC-001**: date-utils.ts **11.11%** → 目標 90%+ (**差分: +78.89%**)
- ✅ **SC-002**: error-utils.ts **8.88%** → 目標 90%+ (**差分: +81.12%**)
- ✅ **SC-003**: register/page.tsx **0%** → 目標 80%+ (**差分: +80%**)
- ✅ **SC-004**: events/[id]/page.tsx **0%** → 目標 80%+ (**差分: +80%**)
- ✅ **SC-005**: admin/groups/page.tsx **0%** → 目標 80%+ (**差分: +80%**)
- ✅ **SC-006**: admin/events/page.tsx **0%** → 目標 80%+ (**差分: +80%**)
- ✅ **SC-007**: my-register/page.tsx **0%** → 目標 80%+ (**差分: +80%**)
- ✅ **SC-008**: 全体カバレッジ **47.98%** → 目標 70%+ (**差分: +22.02%**)

### テスト品質

- ✅ **SC-009**: テスト総数 **234** → 目標 350-400 (**差分: +116-166テスト**)
- ✅ **SC-010**: 全テストpass (**234/234 passed**)
- ✅ **SC-011**: カバレッジ閾値維持
  - branches: 39.88% > 30% ✅
  - functions: 54.73% > 50% ✅
  - lines: 47.28% > 45% ✅
  - statements: 47.98% > 45% ✅

### パフォーマンス

- ✅ **SC-012**: ユーティリティ関数テスト実行 90秒以内（現在: **2.891秒**）
- ✅ **SC-013**: ページコンポーネントテスト実行 120秒以内（現在: **2.891秒**）

## 次のステップ（Phase 1）

1. **T003-T016**: lib/date-utils.ts と lib/error-utils.ts のテスト追加
   - 推定テスト数: 35-45テスト
   - 目標カバレッジ: 90%+

2. **T017-T026**: app/[org]/events/[id]/register/page.tsx のテスト追加
   - 推定テスト数: 20-25テスト
   - 目標カバレッジ: 80%+

## 注意事項

- **既存234テストの保護**: すべての新規テスト追加後、既存テストが全てpassすることを確認
- **パフォーマンス維持**: テスト実行時間が90-120秒を超えないよう監視
- **一貫性**: 既存のテストパターン（[existing-test-patterns.md](./existing-test-patterns.md)）に従う
